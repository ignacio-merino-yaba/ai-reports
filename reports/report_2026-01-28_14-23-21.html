<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parent ASIN Market Analysis - Yaba Intelligence</title>
    
    <!-- Google Native Dependencies -->
    <script src="https://www.gstatic.com/charts/loader.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #007AFF;
            --primary-bg: #F2F7FF;
            --success: #34C759;
            --danger: #FF3B30;
            --text-main: #1D1D1F;
            --text-sec: #86868B;
            --bg-body: #F5F5F7;
            --bg-card: #FFFFFF;
            --radius: 20px;
            --shadow: 0 4px 24px rgba(0,0,0,0.04);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
        
        body { background-color: var(--bg-body); color: var(--text-main); padding-bottom: 50px; }

        /* Header */
        header {
            background: var(--bg-card);
            padding: 20px 40px;
            border-bottom: 1px solid #E5E5E5;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }
        .brand-logo { font-weight: 700; font-size: 20px; color: var(--text-main); display: flex; align-items: center; gap: 8px; }
        .brand-logo span { color: var(--primary); }
        .date-badge { background: var(--primary-bg); color: var(--primary); padding: 6px 12px; border-radius: 20px; font-size: 13px; font-weight: 600; }

        /* Tabs */
        .tabs { display: flex; gap: 20px; margin-top: 20px; padding: 0 40px; }
        .tab-btn {
            background: none; border: none; font-size: 15px; font-weight: 600; color: var(--text-sec);
            padding: 10px 0; cursor: pointer; position: relative; transition: 0.3s;
        }
        .tab-btn.active { color: var(--primary); }
        .tab-btn.active::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 3px;
            background: var(--primary); border-radius: 3px;
        }

        /* Container */
        .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
        .section-title { font-size: 18px; font-weight: 700; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        
        /* Grid Layouts */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .grid-1-2 { display: grid; grid-template-columns: 1fr 2fr; gap: 20px; }

        /* Cards */
        .card {
            background: var(--bg-card); border-radius: var(--radius); padding: 25px;
            box-shadow: var(--shadow); transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-2px); }
        .kpi-value { font-size: 32px; font-weight: 700; color: var(--text-main); margin: 10px 0 5px 0; }
        .kpi-label { font-size: 14px; color: var(--text-sec); }
        .kpi-trend { font-size: 13px; font-weight: 600; display: inline-flex; align-items: center; gap: 4px; }
        .trend-up { color: var(--success); }
        .trend-down { color: var(--danger); }

        /* Charts */
        .chart-container { width: 100%; height: 350px; }
        .mini-chart { height: 200px; }

        /* Insights List */
        .insight-list { list-style: none; }
        .insight-list li {
            padding: 12px 0; border-bottom: 1px solid #eee; display: flex; gap: 12px; align-items: flex-start;
            font-size: 14px; line-height: 1.5;
        }
        .insight-list li:last-child { border-bottom: none; }
        .insight-icon { color: var(--primary); min-width: 24px; }

        /* Interactive Comparator */
        .control-panel {
            background: white; padding: 20px; border-radius: var(--radius); margin-bottom: 20px;
            display: flex; gap: 20px; align-items: center; box-shadow: var(--shadow);
        }
        select {
            padding: 10px 15px; border: 1px solid #ddd; border-radius: 10px; font-size: 14px;
            outline: none; min-width: 200px;
        }
        .vs-card {
            display: flex; justify-content: space-between; align-items: center;
            background: white; padding: 30px; border-radius: var(--radius); margin-bottom: 20px;
            position: relative; overflow: hidden;
        }
        .vs-side { flex: 1; text-align: center; z-index: 2; }
        .vs-center { width: 60px; height: 60px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #999; z-index: 2; }
        .vs-val { font-size: 24px; font-weight: 700; margin: 10px 0; }
        .vs-name { color: var(--text-sec); font-size: 14px; text-transform: uppercase; letter-spacing: 1px; }
        
        .winner { color: var(--success); }
        .loser { color: var(--danger); }
        
        /* Utilities */
        .hidden { display: none !important; }
        .badge { display: inline-block; padding: 4px 8px; border-radius: 6px; font-size: 11px; font-weight: 600; background: #eee; color: #666; margin-right: 4px; }
        .badge.deal { background: #FF3B30; color: white; }
        .badge.choice { background: #1D1D1F; color: white; }
        
        /* Tables */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 13px; }
        th { text-align: left; color: var(--text-sec); padding: 10px; border-bottom: 1px solid #eee; }
        td { padding: 12px 10px; border-bottom: 1px solid #f5f5f7; }
        tr:last-child td { border-bottom: none; }
    </style>
</head>
<body>

<!-- DATA INJECTION -->
<script>
    // Injected Data from Analysis
    const marketData = {"our_brand": "YabaBrand", "top_competitors": ["CompAlpha", "CompBeta", "CompGamma"], "trend_data": [{"week": "2023-10-01", "us_clicks": 3434, "comp_clicks": 3673, "us_share": 48.32}, {"week": "2023-10-08", "us_clicks": 3559, "comp_clicks": 4431, "us_share": 44.54}, {"week": "2023-10-15", "us_clicks": 4044, "comp_clicks": 4031, "us_share": 50.08}, {"week": "2023-10-22", "us_clicks": 3844, "comp_clicks": 4126, "us_share": 48.23}, {"week": "2023-10-29", "us_clicks": 4098, "comp_clicks": 4608, "us_share": 47.07}], "brand_curves": [{"week": "2023-10-01", "YabaBrand": 67.26, "CompAlpha": 24.51, "CompBeta": 18.7, "CompGamma": 18.74, "Rest of Market": 9.98}, {"week": "2023-10-08", "YabaBrand": 65.36, "CompAlpha": 24.42, "CompBeta": 23.08, "CompGamma": 19.47, "Rest of Market": 14.42}, {"week": "2023-10-15", "YabaBrand": 75.99, "CompAlpha": 26.82, "CompBeta": 19.95, "CompGamma": 14.29, "Rest of Market": 14.69}, {"week": "2023-10-22", "YabaBrand": 72.81, "CompAlpha": 26.42, "CompBeta": 18.22, "CompGamma": 18.16, "Rest of Market": 15.35}, {"week": "2023-10-29", "YabaBrand": 73.04, "CompAlpha": 27.07, "CompBeta": 22.24, "CompGamma": 19.75, "Rest of Market": 13.08}], "scatter_points": [{"brand": "YabaBrand", "asin": "YABA000", "is_us": true, "rank": 3.467814110397426, "share": 15.22670012408581, "price": 49.99, "title": "YabaBrand Premium Wireless Hea..."}, {"brand": "YabaBrand", "asin": "YABA001", "is_us": true, "rank": 1.7908871374682578, "share": 12.954327931143904, "price": 49.99, "title": "YabaBrand Premium Wireless Hea..."}, {"brand": "CompAlpha", "asin": "COMP000", "is_us": false, "rank": 3.904818304367809, "share": 8.298100259207935, "price": 55.0, "title": "CompAlpha Standard Earbuds..."}, {"brand": "CompBeta", "asin": "COMP001", "is_us": false, "rank": 8.591898736642726, "share": 7.27085382885065, "price": 55.0, "title": "CompBeta Standard Earbuds..."}, {"brand": "CompGamma", "asin": "COMP002", "is_us": false, "rank": 9.613479390548253, "share": 6.7169010827599145, "price": 55.0, "title": "CompGamma Standard Earbuds..."}, {"brand": "CheapGeneric", "asin": "COMP003", "is_us": false, "rank": 14.997256012939108, "share": 4.741292300479348, "price": 30.0, "title": "CheapGeneric Standard Earbuds..."}, {"brand": "YabaBrand", "asin": "YABA000", "is_us": true, "rank": 4.038161505110911, "share": 11.6163317642407, "price": 49.99, "title": "YabaBrand Premium Wireless Hea..."}, {"brand": "YabaBrand", "asin": "YABA001", "is_us": true, "rank": 2.871781020689582, "share": 9.260119116481459, "price": 49.99, "title": "YabaBrand Premium Wireless Hea..."}, {"brand": "CompAlpha", "asin": "COMP000", "is_us": false, "rank": 3.6340164060721287, "share": 9.007815984393833, "price": 55.0, "title": "CompAlpha Standard Earbuds..."}, {"brand": "CompBeta", "asin": "COMP001", "is_us": false, "rank": 6.747029063685233, "share": 5.989843450183345, "price": 55.0, "title": "CompBeta Standard Earbuds..."}, {"brand": "CompGamma", "asin": "COMP002", "is_us": false, "rank": 10.897441489898114, "share": 6.127964588673917, "price": 55.0, "title": "CompGamma Standard Earbuds..."}, {"brand": "CheapGeneric", "asin": "COMP003", "is_us": false, "rank": 12.127074735311792, "share": 4.831524259809288, "price": 30.0, "title": "CheapGeneric Standard Earbuds..."}, {"brand": "YabaBrand", "asin": "YABA000", "is_us": true, "rank": 3.7583508112679462, "share": 13.591451399919263, "price": 49.99, "title": "YabaBrand Premium Wireless Hea..."}, {"brand": "YabaBrand", "asin": "YABA001", "is_us": true, "rank": 4.326508774867384, "share": 10.391946191474647, "price": 49.99, "title": "YabaBrand Premium Wireless Hea..."}, {"brand": "CompAlpha", "asin": "COMP000", "is_us": false, "rank": 2.4375677357321184, "share": 9.762847641331414, "price": 55.0, "title": "CompAlpha Standard Earbuds..."}, {"brand": "CompBeta", "asin": "COMP001", "is_us": false, "rank": 6.065727594481471, "share": 8.98308384598434, "price": 55.0, "title": "CompBeta Standard Earbuds..."}, {"brand": "CompGamma", "asin": "COMP002", "is_us": false, "rank": 12.142610604253463, "share": 6.908484631344926, "price": 55.0, "title": "CompGamma Standard Earbuds..."}, {"brand": "CheapGeneric", "asin": "COMP003", "is_us": false, "rank": 11.111419695215519, "share": 3.50849039751039, "price": 30.0, "title": "CheapGeneric Standard Earbuds..."}], "raw_data": [{"week": "2023-10-01", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 12.2, "rank": 2.6, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 11.37, "rank": 2.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.73, "rank": 5.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.72, "rank": 7.0, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-01", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.24, "rank": 12.6, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 2.11, "rank": 15.9, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-01", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 9.67, "rank": 3.7, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 11.22, "rank": 2.6, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.66, "rank": 4.0, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 5.28, "rank": 8.4, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-01", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 5.45, "rank": 9.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 3.42, "rank": 13.9, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-01", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 10.93, "rank": 4.0, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 11.86, "rank": 3.2, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.12, "rank": 2.6, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 5.7, "rank": 6.8, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-01", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.05, "rank": 8.3, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-01", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.45, "rank": 14.1, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-08", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 11.85, "rank": 3.0, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 12.14, "rank": 3.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.63, "rank": 3.1, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.47, "rank": 6.2, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-08", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 5.71, "rank": 12.2, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.97, "rank": 11.8, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-08", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 11.06, "rank": 2.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 11.66, "rank": 2.5, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.91, "rank": 3.9, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.94, "rank": 6.3, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-08", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.98, "rank": 13.9, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.45, "rank": 11.9, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-08", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 9.91, "rank": 3.2, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 8.74, "rank": 3.9, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.88, "rank": 3.5, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.67, "rank": 5.7, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-08", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.78, "rank": 11.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-08", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 5.0, "rank": 14.1, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-15", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 10.51, "rank": 4.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 12.79, "rank": 4.7, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 9.3, "rank": 3.0, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.46, "rank": 6.8, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-15", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.21, "rank": 8.3, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 5.29, "rank": 13.4, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-15", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 14.09, "rank": 2.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 12.44, "rank": 3.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 9.1, "rank": 8.9, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.51, "rank": 8.5, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-15", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 2.5, "rank": 10.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.5, "rank": 15.8, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-15", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 13.53, "rank": 3.3, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 12.63, "rank": 1.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.42, "rank": 3.6, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 4.98, "rank": 10.6, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-15", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 4.58, "rank": 12.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-15", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.9, "rank": 14.5, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-22", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 13.74, "rank": 2.7, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 14.14, "rank": 4.3, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.85, "rank": 3.2, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.04, "rank": 4.3, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-22", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.3, "rank": 10.7, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 5.77, "rank": 13.6, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-22", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 15.17, "rank": 3.0, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 11.65, "rank": 2.2, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.79, "rank": 4.3, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.36, "rank": 10.3, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-22", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.43, "rank": 12.1, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 5.35, "rank": 13.2, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-22", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 7.72, "rank": 2.9, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 10.4, "rank": 2.9, "deal": true, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 9.78, "rank": 2.2, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 5.82, "rank": 8.9, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-22", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 5.43, "rank": 11.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-22", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.24, "rank": 15.1, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-29", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 15.23, "rank": 3.5, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 12.95, "rank": 1.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.3, "rank": 3.9, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 7.27, "rank": 8.6, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-29", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.72, "rank": 9.6, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.74, "rank": 15.0, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-29", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 11.62, "rank": 4.0, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 9.26, "rank": 2.9, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 9.01, "rank": 3.6, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 5.99, "rank": 6.7, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-29", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.13, "rank": 10.9, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 4.83, "rank": 12.1, "deal": false, "coupon": true, "choice": false}, {"week": "2023-10-29", "brand": "YabaBrand", "asin": "YABA000", "title": "YabaBrand Premium Wireless Headphones 0", "is_us": true, "price": 49.99, "share": 13.59, "rank": 3.8, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "YabaBrand", "asin": "YABA001", "title": "YabaBrand Premium Wireless Headphones 1", "is_us": true, "price": 49.99, "share": 10.39, "rank": 4.3, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CompAlpha", "asin": "COMP000", "title": "CompAlpha Standard Earbuds", "is_us": false, "price": 55.0, "share": 9.76, "rank": 2.4, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CompBeta", "asin": "COMP001", "title": "CompBeta Standard Earbuds", "is_us": false, "price": 55.0, "share": 8.98, "rank": 6.1, "deal": false, "coupon": false, "choice": true}, {"week": "2023-10-29", "brand": "CompGamma", "asin": "COMP002", "title": "CompGamma Standard Earbuds", "is_us": false, "price": 55.0, "share": 6.91, "rank": 12.1, "deal": false, "coupon": false, "choice": false}, {"week": "2023-10-29", "brand": "CheapGeneric", "asin": "COMP003", "title": "CheapGeneric Standard Earbuds", "is_us": false, "price": 30.0, "share": 3.51, "rank": 11.1, "deal": false, "coupon": true, "choice": false}], "meta": {"parent_asin": "PARENT123", "last_week": "2023-10-29"}};
</script>

<header>
    <div class="brand-logo">
        <span class="material-icons">analytics</span> Yaba Intelligence
    </div>
    <div>
        <span class="date-badge" id="report-date-range">Last 4 Weeks</span>
    </div>
</header>

<div class="tabs">
    <button class="tab-btn active" onclick="switchTab('dashboard')">Market Dashboard</button>
    <button class="tab-btn" onclick="switchTab('comparator')">Head-to-Head Comparator</button>
</div>

<main class="container">
    
    <!-- DASHBOARD TAB -->
    <div id="dashboard" class="tab-content">
        
        <!-- KPI Cards -->
        <div class="grid-3" style="margin-bottom:30px;">
            <div class="card">
                <div class="kpi-label">Our Click Share (Last Week)</div>
                <div class="kpi-value" id="kpi-share">0%</div>
                <div class="kpi-trend" id="kpi-share-trend">-</div>
            </div>
            <div class="card">
                <div class="kpi-label">Total Market Clicks</div>
                <div class="kpi-value" id="kpi-clicks">0</div>
                <div class="kpi-trend" id="kpi-clicks-trend">-</div>
            </div>
            <div class="card">
                <div class="kpi-label">Top Competitor</div>
                <div class="kpi-value" id="kpi-competitor" style="font-size:24px;">-</div>
                <div class="kpi-label" id="kpi-competitor-share">0% Share</div>
            </div>
        </div>

        <!-- Section 1 & 2: Trends and Competition -->
        <div class="grid-2">
            <div class="card">
                <div class="section-title"><span class="material-icons">trending_up</span> Global Parent Trend</div>
                <div id="chart_trend" class="chart-container"></div>
            </div>
            <div class="card">
                <div class="section-title"><span class="material-icons">pie_chart</span> Competitiveness (Click Share)</div>
                <div id="chart_competitiveness" class="chart-container"></div>
            </div>
        </div>

        <!-- Section 3 & 4: Efficiency & Levers -->
        <div class="grid-1-2" style="margin-top:20px;">
            <div class="card">
                <div class="section-title"><span class="material-icons">lightbulb</span> Strategic Insights</div>
                <ul class="insight-list" id="insights-container">
                    <!-- Dynamic Content -->
                </ul>
            </div>
            <div class="card">
                <div class="section-title"><span class="material-icons">scatter_plot</span> Efficiency: Rank vs Click Share</div>
                <div id="chart_efficiency" class="chart-container"></div>
            </div>
        </div>
    </div>

    <!-- COMPARATOR TAB -->
    <div id="comparator" class="tab-content hidden">
        <div class="control-panel">
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:600; font-size:12px; color:#888;">SELECT WEEK</label>
                <select id="comp-week-select"></select>
            </div>
            <div>
                <label style="display:block; margin-bottom:5px; font-weight:600; font-size:12px; color:#888;">SELECT COMPETITOR</label>
                <select id="comp-brand-select"></select>
            </div>
        </div>

        <div class="grid-2">
            <!-- Share Comparison -->
            <div class="vs-card">
                <div class="vs-side">
                    <div class="vs-name" id="vs-us-name">US</div>
                    <div class="vs-val" id="vs-us-share">0%</div>
                </div>
                <div class="vs-center">VS</div>
                <div class="vs-side">
                    <div class="vs-name" id="vs-them-name">THEM</div>
                    <div class="vs-val" id="vs-them-share">0%</div>
                </div>
                <div style="position:absolute; bottom:10px; width:100%; text-align:center; font-size:12px; color:#999; font-weight:600;">CLICK SHARE</div>
            </div>

            <!-- Price Comparison -->
            <div class="vs-card">
                <div class="vs-side">
                    <div class="vs-name">AVG PRICE</div>
                    <div class="vs-val" id="vs-us-price">$0</div>
                </div>
                <div class="vs-center">VS</div>
                <div class="vs-side">
                    <div class="vs-name">AVG PRICE</div>
                    <div class="vs-val" id="vs-them-price">$0</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="section-title">Detailed Comparison Table</div>
            <div id="comparison-table-container"></div>
        </div>
    </div>

</main>

<script>
    // --- APP LOGIC ---

    google.charts.load('current', {'packages':['corechart', 'table']});
    google.charts.setOnLoadCallback(initApp);

    function initApp() {
        populateKPIs();
        drawTrendChart();
        drawCompetitorChart();
        drawEfficiencyChart();
        generateInsights();
        setupComparator();
    }

    // 1. KPI Logic
    function populateKPIs() {
        const lastData = marketData.trend_data[marketData.trend_data.length - 1];
        const prevData = marketData.trend_data[marketData.trend_data.length - 2];

        // Share
        document.getElementById('kpi-share').innerText = lastData.us_share + '%';
        const shareDiff = (lastData.us_share - prevData.us_share).toFixed(2);
        const shareTrendEl = document.getElementById('kpi-share-trend');
        shareTrendEl.innerHTML = shareDiff >= 0 
            ? `<span class="material-icons" style="font-size:16px;">trending_up</span> +${shareDiff}%` 
            : `<span class="material-icons" style="font-size:16px;">trending_down</span> ${shareDiff}%`;
        shareTrendEl.className = shareDiff >= 0 ? 'kpi-trend trend-up' : 'kpi-trend trend-down';

        // Clicks
        const totalClicks = lastData.us_clicks + lastData.comp_clicks;
        const prevTotal = prevData.us_clicks + prevData.comp_clicks;
        document.getElementById('kpi-clicks').innerText = totalClicks.toLocaleString();
        
        // Competitor
        const lastCurve = marketData.brand_curves[marketData.brand_curves.length - 1];
        let topCompName = '';
        let topCompVal = 0;
        marketData.top_competitors.forEach(c => {
            if(lastCurve[c] > topCompVal) {
                topCompVal = lastCurve[c];
                topCompName = c;
            }
        });
        document.getElementById('kpi-competitor').innerText = topCompName;
        document.getElementById('kpi-competitor-share').innerText = topCompVal + '% Share';
    }

    // 2. Trend Chart (Combo)
    function drawTrendChart() {
        const data = new google.visualization.DataTable();
        data.addColumn('string', 'Week');
        data.addColumn('number', 'Our Clicks');
        data.addColumn('number', 'Competitor Clicks');
        data.addColumn('number', 'Our Share %');

        marketData.trend_data.forEach(d => {
            data.addRow([d.week.slice(5), d.us_clicks, d.comp_clicks, d.us_share]);
        });

        const options = {
            seriesType: 'bars',
            series: {2: {type: 'line', targetAxisIndex: 1, color: '#007AFF', lineWidth: 3}},
            colors: ['#8AB4F8', '#E8EAED'],
            vAxes: {
                0: {title: 'Clicks', textStyle: {color: '#999'}},
                1: {title: 'Share %', format: '#\'%\'', textStyle: {color: '#007AFF'}}
            },
            hAxis: {textStyle: {color: '#999'}},
            legend: {position: 'bottom'},
            chartArea: {width: '85%', height: '70%'},
            bar: {groupWidth: '60%'}
        };

        const chart = new google.visualization.ComboChart(document.getElementById('chart_trend'));
        chart.draw(data, options);
    }

    // 3. Competitor Chart (Line)
    function drawCompetitorChart() {
        const data = new google.visualization.DataTable();
        data.addColumn('string', 'Week');
        data.addColumn('number', marketData.our_brand);
        marketData.top_competitors.forEach(c => data.addColumn('number', c));
        data.addColumn('number', 'Rest');

        marketData.brand_curves.forEach(row => {
            const arr = [row.week.slice(5), row[marketData.our_brand]];
            marketData.top_competitors.forEach(c => arr.push(row[c]));
            arr.push(row['Rest of Market']);
            data.addRow(arr);
        });

        const options = {
            curveType: 'function',
            lineWidth: 2,
            colors: ['#007AFF', '#FF3B30', '#FF9500', '#AF52DE', '#999'],
            chartArea: {width: '85%', height: '70%'},
            legend: {position: 'bottom'},
            vAxis: {format: '#\'%\''}
        };

        const chart = new google.visualization.LineChart(document.getElementById('chart_competitiveness'));
        chart.draw(data, options);
    }

    // 4. Efficiency Chart (Scatter)
    function drawEfficiencyChart() {
        const data = new google.visualization.DataTable();
        data.addColumn('number', 'Organic Rank');
        data.addColumn('number', 'Click Share %');
        data.addColumn({type: 'string', role: 'style'}); // Color
        data.addColumn({type: 'string', role: 'tooltip'});

        marketData.scatter_points.forEach(p => {
            const color = p.is_us ? '#007AFF' : '#C7C7CC';
            data.addRow([
                p.rank, 
                p.share, 
                `point {fill-color: ${color}; size: ${p.is_us ? 10 : 6}}`,
                `${p.brand}\nRank: ${p.rank.toFixed(1)}\nShare: ${p.share.toFixed(1)}%\n${p.title}`
            ]);
        });

        const options = {
            hAxis: {title: 'Organic Rank (Lower is Better)', direction: 1}, // 1 because rank 1 is left usually, but chart implies linear. Scatter: 1 is left.
            vAxis: {title: 'Click Share %'},
            legend: 'none',
            chartArea: {width: '85%', height: '70%'}
        };

        const chart = new google.visualization.ScatterChart(document.getElementById('chart_efficiency'));
        chart.draw(data, options);
    }

    // 5. Insights Logic
    function generateInsights() {
        const ul = document.getElementById('insights-container');
        const last = marketData.trend_data[marketData.trend_data.length - 1];
        const prev = marketData.trend_data[marketData.trend_data.length - 2];
        
        let insights = [];

        // Trend Insight
        if(last.us_share > prev.us_share) {
            insights.push(`<strong>Momentum:</strong> Our brand gained +${(last.us_share - prev.us_share).toFixed(2)}% market share last week.`);
        } else {
            insights.push(`<strong>Risk:</strong> Market share dipped by ${(prev.us_share - last.us_share).toFixed(2)}%. Review competitor deal activity.`);
        }

        // Price Lever
        const usPoints = marketData.scatter_points.filter(p => p.is_us);
        const compPoints = marketData.scatter_points.filter(p => !p.is_us);
        const avgUsPrice = usPoints.reduce((a,b)=>a+b.price,0)/usPoints.length;
        const avgCompPrice = compPoints.reduce((a,b)=>a+b.price,0)/compPoints.length;
        
        if(avgUsPrice > avgCompPrice * 1.2) {
            insights.push(`<strong>Premium Positioning:</strong> We are priced ${(avgUsPrice/avgCompPrice * 100 - 100).toFixed(0)}% above avg. Ensure conversion features (A+, badges) are active.`);
        }

        // Efficiency
        const overPerformers = usPoints.filter(p => p.share > 10 && p.rank > 5);
        if(overPerformers.length > 0) {
            insights.push(`<strong>Efficiency Star:</strong> ${overPerformers.length} ASINs are outperforming their rank (High Share, Mid Rank). Invest in ranking them higher.`);
        }

        // Competitor
        const winner = marketData.top_competitors[0]; // Simplified
        insights.push(`<strong>Main Threat:</strong> ${winner} remains the primary competitor. Monitor their deal frequency.`);

        // Recommendation
        insights.push(`<strong>Action:</strong> Check keywords where Rank > 10 but Share < 1%. These are wasted opportunities.`);

        ul.innerHTML = insights.map(i => `<li><span class="material-icons insight-icon">arrow_right</span><span>${i}</span></li>`).join('');
    }

    // 6. Comparator Logic
    function setupComparator() {
        const weekSelect = document.getElementById('comp-week-select');
        const brandSelect = document.getElementById('comp-brand-select');
        
        // Populate Weeks
        const weeks = [...new Set(marketData.raw_data.map(d => d.week))].sort();
        weeks.forEach(w => {
            const opt = document.createElement('option');
            opt.value = w;
            opt.innerText = w;
            weekSelect.appendChild(opt);
        });
        weekSelect.value = weeks[weeks.length-1]; // Select last

        // Populate Competitors
        marketData.top_competitors.forEach(c => {
            const opt = document.createElement('option');
            opt.value = c;
            opt.innerText = c;
            brandSelect.appendChild(opt);
        });

        const updateComp = () => {
            renderComparison(weekSelect.value, brandSelect.value);
        };

        weekSelect.addEventListener('change', updateComp);
        brandSelect.addEventListener('change', updateComp);
        
        // Initial Draw
        updateComp();
    }

    function renderComparison(week, compBrand) {
        const usName = marketData.our_brand;
        document.getElementById('vs-us-name').innerText = usName;
        document.getElementById('vs-them-name').innerText = compBrand;

        // Filter Data
        const weekData = marketData.raw_data.filter(d => d.week === week);
        const usData = weekData.filter(d => d.brand === usName);
        const themData = weekData.filter(d => d.brand === compBrand);

        // Calculate Aggregates
        const calcAvg = (arr, key) => arr.length ? arr.reduce((a,b)=>a+b[key],0)/arr.length : 0;
        const calcSum = (arr, key) => arr.reduce((a,b)=>a+b[key],0);

        const usShare = calcSum(usData, 'share');
        const themShare = calcSum(themData, 'share');
        const usPrice = calcAvg(usData, 'price');
        const themPrice = calcAvg(themData, 'price');

        // Update DOM
        document.getElementById('vs-us-share').innerText = usShare.toFixed(1) + '%';
        document.getElementById('vs-them-share').innerText = themShare.toFixed(1) + '%';
        document.getElementById('vs-us-price').innerText = '$' + usPrice.toFixed(2);
        document.getElementById('vs-them-price').innerText = '$' + themPrice.toFixed(2);

        // Color coding
        const usShareEl = document.getElementById('vs-us-share');
        const themShareEl = document.getElementById('vs-them-share');
        usShareEl.className = usShare > themShare ? 'vs-val winner' : 'vs-val';
        themShareEl.className = themShare > usShare ? 'vs-val winner' : 'vs-val';

        // Table
        let html = `<table><thead><tr><th>ASIN</th><th>Title</th><th>Price</th><th>Rank</th><th>Share</th><th>Badges</th></tr></thead><tbody>`;
        
        // Combine and sort by share
        const combined = [...usData, ...themData].sort((a,b) => b.share - a.share);
        
        combined.forEach(row => {
            const badges = [];
            if(row.deal) badges.push('<span class="badge deal">DEAL</span>');
            if(row.choice) badges.push('<span class="badge choice">CHOICE</span>');
            
            html += `<tr style="background:${row.brand === usName ? '#f9faff' : 'white'}">
                <td>${row.asin}</td>
                <td><div style="width:200px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">${row.title}</div></td>
                <td>$${row.price}</td>
                <td>${row.rank}</td>
                <td><strong>${row.share}%</strong></td>
                <td>${badges.join('')}</td>
            </tr>`;
        });
        html += '</tbody></table>';
        document.getElementById('comparison-table-container').innerHTML = html;
    }

    // UI Utilities
    function switchTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
        document.getElementById(tabId).classList.remove('hidden');
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        event.target.classList.add('active');
    }
</script>

</body>
</html>