<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parent ASIN Analysis: NaturaleBio</title>
    
    <!-- External Dependencies (Google Native Compatible) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8f9fa; color: #202124; }
        .card { background: white; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03); padding: 24px; margin-bottom: 24px; transition: transform 0.2s; }
        .card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05); }
        .metric-value { font-size: 2rem; font-weight: 700; letter-spacing: -0.025em; }
        .metric-label { font-size: 0.875rem; color: #5f6368; font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; }
        .chart-container { width: 100%; height: 350px; }
        .btn-tab { padding: 12px 24px; border-radius: 9999px; font-weight: 600; transition: all 0.2s; }
        .btn-tab.active { background-color: #4285F4; color: white; shadow: 0 4px 6px rgba(66, 133, 244, 0.3); }
        .btn-tab.inactive { background-color: white; color: #5f6368; border: 1px solid #e5e7eb; }
        .insight-pill { display: inline-flex; align-items: center; padding: 4px 12px; border-radius: 9999px; font-size: 0.75rem; font-weight: 600; margin-right: 8px; }
        .pill-green { background-color: #e6f4ea; color: #137333; }
        .pill-red { background-color: #fce8e6; color: #c5221f; }
        .pill-blue { background-color: #e8f0fe; color: #1967d2; }
    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/javascript">
        // ---------------------------------------------------------
        // DATA INJECTION (PROCESSED FROM CSV)
        // ---------------------------------------------------------
        const marketData = [
            {"week": "2026-01", "asin": "B07SZFD3P9", "brand": "NaturaleBio", "is_yaba": true, "clicks": 746.53, "share": 2.69, "rank": 2.69, "price": 30.27, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-51", "asin": "B06XQ5DCYJ", "brand": "NaturaleBio", "is_yaba": true, "clicks": 5993.23, "share": 13.42, "rank": 1.0, "price": 14.44, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-52", "asin": "B06XQ5DCYJ", "brand": "NaturaleBio", "is_yaba": true, "clicks": 4919.11, "share": 14.3, "rank": 1.0, "price": 15.03, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2026-01", "asin": "B06XQ5DCYJ", "brand": "NaturaleBio", "is_yaba": true, "clicks": 4093.43, "share": 14.75, "rank": 1.0, "price": 14.61, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-52", "asin": "B0CNRX8G5S", "brand": "NORITUAL LAB", "is_yaba": false, "clicks": 5101.43, "share": 14.83, "rank": 2.0, "price": 24.60, "deal_days": 0, "bs_days": 0, "ac_days": 7, "coupon_days": 0},
            {"week": "2026-01", "asin": "B0CNRX8G5S", "brand": "NORITUAL LAB", "is_yaba": false, "clicks": 3888.07, "share": 14.01, "rank": 2.0, "price": 23.91, "deal_days": 0, "bs_days": 0, "ac_days": 4, "coupon_days": 0},
            {"week": "2025-51", "asin": "B0CNRX8G5S", "brand": "NORITUAL LAB", "is_yaba": false, "clicks": 5680.62, "share": 12.72, "rank": 3.0, "price": 24.61, "deal_days": 0, "bs_days": 0, "ac_days": 7, "coupon_days": 0},
            {"week": "2025-51", "asin": "B06XQ69YCQ", "brand": "NaturaleBio", "is_yaba": true, "clicks": 2246.35, "share": 5.03, "rank": 4.0, "price": 9.45, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2026-01", "asin": "B06XQ69YCQ", "brand": "NaturaleBio", "is_yaba": true, "clicks": 1376.51, "share": 4.96, "rank": 4.0, "price": 10.22, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-52", "asin": "B06XQ69YCQ", "brand": "NaturaleBio", "is_yaba": true, "clicks": 1785.33, "share": 5.19, "rank": 4.0, "price": 10.52, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-52", "asin": "B079VQ52MK", "brand": "NaturaleBio", "is_yaba": true, "clicks": 1369.09, "share": 3.98, "rank": 5.0, "price": 24.74, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-51", "asin": "B079VQ52MK", "brand": "NaturaleBio", "is_yaba": true, "clicks": 1460.35, "share": 3.27, "rank": 5.0, "price": 23.63, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2026-01", "asin": "B079VQ52MK", "brand": "NaturaleBio", "is_yaba": true, "clicks": 971.32, "share": 3.50, "rank": 5.0, "price": 24.53, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-51", "asin": "B0FSL3C3Z8", "brand": "NORITUAL LAB", "is_yaba": false, "clicks": 2661.67, "share": 5.96, "rank": 6.0, "price": 16.01, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2026-01", "asin": "B0FSL3C3Z8", "brand": "NORITUAL LAB", "is_yaba": false, "clicks": 1667.90, "share": 6.01, "rank": 7.0, "price": 15.56, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-52", "asin": "B0FSL3C3Z8", "brand": "NORITUAL LAB", "is_yaba": false, "clicks": 2043.32, "share": 5.94, "rank": 7.0, "price": 16.01, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2026-01", "asin": "B07MD4LB49", "brand": "VAHDAM", "is_yaba": false, "clicks": 1051.81, "share": 3.79, "rank": 8.0, "price": 10.43, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2026-01", "asin": "B08XVX8V1T", "brand": "bioKontor", "is_yaba": false, "clicks": 854.77, "share": 3.08, "rank": 9.0, "price": 12.00, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-51", "asin": "B0912DKFK5", "brand": "TEA Uniqō", "is_yaba": false, "clicks": 1710.44, "share": 3.83, "rank": 12.0, "price": 12.88, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-52", "asin": "B0DRP6Y6XC", "brand": "Special Leaves", "is_yaba": false, "clicks": 1417.26, "share": 4.12, "rank": 14.0, "price": 10.69, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 7},
            {"week": "2026-01", "asin": "B0DRP6Y6XC", "brand": "Special Leaves", "is_yaba": false, "clicks": 974.10, "share": 3.51, "rank": 15.0, "price": 10.39, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 4},
            {"week": "2025-51", "asin": "B0DRP6Y6XC", "brand": "Special Leaves", "is_yaba": false, "clicks": 1817.62, "share": 4.07, "rank": 15.0, "price": 10.69, "deal_days": 0, "bs_days": 0, "ac_days": 0, "coupon_days": 7},
            {"week": "2025-52", "asin": "B07SZFD3P9", "brand": "NaturaleBio", "is_yaba": true, "clicks": 945.98, "share": 2.75, "rank": 25.0, "price": 30.56, "deal_days": 1, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-52", "asin": "B07MD4LB49", "brand": "VAHDAM", "is_yaba": false, "clicks": 1857.57, "share": 5.40, "rank": 6.0, "price": 9.73, "deal_days": 3, "bs_days": 0, "ac_days": 0, "coupon_days": 0},
            {"week": "2025-51", "asin": "B07MD4LB49", "brand": "VAHDAM", "is_yaba": false, "clicks": 2157.03, "share": 4.83, "rank": 8.0, "price": 9.16, "deal_days": 5, "bs_days": 0, "ac_days": 0, "coupon_days": 0}
        ];

        // ---------------------------------------------------------
        // INITIALIZE GOOGLE CHARTS
        // ---------------------------------------------------------
        google.charts.load('current', {'packages':['corechart', 'bar', 'table']});
    </script>

    <script type="text/babel">

        // --- UTILS ---
        const OUR_BRAND = "NaturaleBio";
        const formatNum = (n) => new Intl.NumberFormat('en-US', { maximumFractionDigits: 1 }).format(n);
        const formatCur = (n) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'EUR' }).format(n);
        
        const getWeeks = () => [...new Set(marketData.map(d => d.week))].sort();
        const getBrands = () => [...new Set(marketData.map(d => d.brand))];
        const getASINs = () => [...new Set(marketData.map(d => d.asin))];

        // --- COMPONENTS ---

        const KpiCard = ({ title, value, sub, trend, icon }) => (
            <div className="card flex-1 min-w-[200px]">
                <div className="flex justify-between items-start mb-4">
                    <span className="material-icons text-blue-500 bg-blue-50 p-2 rounded-lg">{icon}</span>
                    <span className={`text-xs font-bold px-2 py-1 rounded ${trend === 'up' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>
                        {trend === 'up' ? '▲' : '▼'} 
                    </span>
                </div>
                <div className="metric-value text-gray-800">{value}</div>
                <div className="metric-label mt-1">{title}</div>
                <div className="text-xs text-gray-400 mt-2">{sub}</div>
            </div>
        );

        // --- SECTIONS ---

        // 1. GLOBAL TREND CHART
        const TrendChart = () => {
            React.useEffect(() => {
                google.charts.setOnLoadCallback(drawChart);
                function drawChart() {
                    const data = new google.visualization.DataTable();
                    data.addColumn('string', 'Week');
                    data.addColumn('number', 'Our Clicks');
                    data.addColumn('number', 'Comp Clicks');
                    data.addColumn('number', 'Our Share (%)');

                    const weeks = getWeeks();
                    const rows = weeks.map(w => {
                        const ourClicks = marketData.filter(d => d.week === w && d.is_yaba).reduce((a,b) => a + b.clicks, 0);
                        const compClicks = marketData.filter(d => d.week === w && !d.is_yaba).reduce((a,b) => a + b.clicks, 0);
                        const ourShare = marketData.filter(d => d.week === w && d.is_yaba).reduce((a,b) => a + b.share, 0);
                        return [w, ourClicks, compClicks, ourShare];
                    });

                    data.addRows(rows);

                    const options = {
                        title: 'Volume (Clicks) vs Click Share',
                        vAxes: {0: {title: 'Clicks'}, 1: {title: 'Share %', format: '#\'%\''}},
                        hAxis: {title: 'Week'},
                        seriesType: 'bars',
                        series: {2: {type: 'line', targetAxisIndex: 1}},
                        colors: ['#4285F4', '#E0E0E0', '#34A853'],
                        legend: {position: 'bottom'},
                        animation: { startup: true, duration: 1000, easing: 'out' }
                    };

                    const chart = new google.visualization.ComboChart(document.getElementById('trend_chart_div'));
                    chart.draw(data, options);
                }
            }, []);
            return <div id="trend_chart_div" className="chart-container"></div>;
        };

        // 2. COMPETITIVENESS CHART
        const ShareChart = () => {
            React.useEffect(() => {
                google.charts.setOnLoadCallback(drawChart);
                function drawChart() {
                    const data = new google.visualization.DataTable();
                    data.addColumn('string', 'Week');
                    data.addColumn('number', OUR_BRAND);
                    
                    // Identify Top 3 Competitors
                    const allBrands = getBrands().filter(b => b !== OUR_BRAND);
                    const brandShares = allBrands.map(b => ({
                        name: b,
                        share: marketData.filter(d => d.brand === b).reduce((acc, val) => acc + val.share, 0)
                    })).sort((a,b) => b.share - a.share).slice(0,3);
                    
                    brandShares.forEach(b => data.addColumn('number', b.name));

                    const weeks = getWeeks();
                    const rows = weeks.map(w => {
                        const row = [w];
                        // Our Share
                        row.push(marketData.filter(d => d.week === w && d.brand === OUR_BRAND).reduce((a,b) => a + b.share, 0));
                        // Comp Shares
                        brandShares.forEach(b => {
                            row.push(marketData.filter(d => d.week === w && d.brand === b.name).reduce((a,b) => a + b.share, 0));
                        });
                        return row;
                    });

                    data.addRows(rows);

                    const options = {
                        curveType: 'function',
                        legend: { position: 'bottom' },
                        colors: ['#4285F4', '#EA4335', '#FBBC05', '#34A853'],
                        vAxis: { title: 'Click Share (%)' },
                        lineWidth: 3
                    };

                    const chart = new google.visualization.LineChart(document.getElementById('share_chart_div'));
                    chart.draw(data, options);
                }
            }, []);
            return <div id="share_chart_div" className="chart-container"></div>;
        };

        // 4. EFFICIENCY CHART (Scatter)
        const EfficiencyChart = () => {
             React.useEffect(() => {
                google.charts.setOnLoadCallback(drawChart);
                function drawChart() {
                    const data = new google.visualization.DataTable();
                    data.addColumn('number', 'Avg Rank');
                    data.addColumn('number', 'Click Share (%)');
                    data.addColumn({'type': 'string', 'role': 'style'});
                    data.addColumn({'type': 'string', 'role': 'tooltip'});

                    // Use last week only for clarity
                    const lastWeek = getWeeks().pop();
                    const rows = marketData.filter(d => d.week === lastWeek).map(d => {
                        const color = d.is_yaba ? '#4285F4' : '#9AA0A6';
                        const tooltip = `${d.brand} | Rank: ${d.rank} | Share: ${d.share}%`;
                        return [d.rank, d.share, `point { fill-color: ${color}; size: 6; }`, tooltip];
                    });

                    data.addRows(rows);

                    const options = {
                        title: 'Efficiency: Rank vs Click Share (Last Week)',
                        hAxis: {title: 'Organic Rank (Lower is Better)', direction: 1}, // 1 because 1 is better
                        vAxis: {title: 'Click Share'},
                        legend: 'none',
                        crosshair: { trigger: 'both' }
                    };

                    const chart = new google.visualization.ScatterChart(document.getElementById('eff_chart_div'));
                    chart.draw(data, options);
                }
            }, []);
            return <div id="eff_chart_div" className="chart-container"></div>;
        }

        // --- INTERACTIVE COMPARATOR ---
        const Comparator = () => {
            const [selectedWeek, setWeek] = React.useState(getWeeks().pop());
            const [competitor, setCompetitor] = React.useState('NORITUAL LAB');

            const ourASIN = marketData.find(d => d.week === selectedWeek && d.is_yaba && d.share === Math.max(...marketData.filter(x => x.week === selectedWeek && x.is_yaba).map(x => x.share)));
            const compASIN = marketData.find(d => d.week === selectedWeek && d.brand === competitor);

            if (!ourASIN || !compASIN) return <div className="p-4 text-center">Data not available for this selection</div>;

            return (
                <div className="space-y-6">
                    <div className="flex gap-4 mb-6 bg-white p-4 rounded-xl shadow-sm">
                        <div>
                            <label className="text-xs font-bold text-gray-500 uppercase block mb-1">Week</label>
                            <select value={selectedWeek} onChange={e => setWeek(e.target.value)} className="bg-gray-50 border border-gray-200 rounded p-2">
                                {getWeeks().map(w => <option key={w} value={w}>{w}</option>)}
                            </select>
                        </div>
                        <div>
                            <label className="text-xs font-bold text-gray-500 uppercase block mb-1">Competitor</label>
                            <select value={competitor} onChange={e => setCompetitor(e.target.value)} className="bg-gray-50 border border-gray-200 rounded p-2">
                                {getBrands().filter(b => b !== OUR_BRAND).map(b => <option key={b} value={b}>{b}</option>)}
                            </select>
                        </div>
                    </div>

                    <div className="grid grid-cols-2 gap-8">
                        {/* OUR CARD */}
                        <div className="card border-t-4 border-blue-500">
                            <h3 className="text-xl font-bold text-blue-600 mb-1">{OUR_BRAND}</h3>
                            <div className="text-sm text-gray-500 mb-4 truncate">{ourASIN.title}</div>
                            
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <div className="text-xs text-gray-400">Price</div>
                                    <div className="text-xl font-bold">{formatCur(ourASIN.price)}</div>
                                </div>
                                <div>
                                    <div className="text-xs text-gray-400">Share</div>
                                    <div className="text-xl font-bold">{ourASIN.share}%</div>
                                </div>
                                <div>
                                    <div className="text-xs text-gray-400">Rank</div>
                                    <div className="text-xl font-bold">#{ourASIN.rank}</div>
                                </div>
                                <div>
                                    <div className="text-xs text-gray-400">Badges</div>
                                    <div className="flex gap-1 mt-1">
                                        {ourASIN.bs_days > 0 && <span className="bg-orange-100 text-orange-600 px-2 py-1 text-xs rounded">BS</span>}
                                        {ourASIN.ac_days > 0 && <span className="bg-gray-800 text-white px-2 py-1 text-xs rounded">AC</span>}
                                        {ourASIN.deal_days === 0 && ourASIN.bs_days === 0 && <span className="text-xs text-gray-300">-</span>}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* COMP CARD */}
                        <div className="card border-t-4 border-red-500">
                            <h3 className="text-xl font-bold text-red-600 mb-1">{competitor}</h3>
                            <div className="text-sm text-gray-500 mb-4 truncate">{compASIN.title}</div>
                            
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <div className="text-xs text-gray-400">Price</div>
                                    <div className="text-xl font-bold">{formatCur(compASIN.price)}</div>
                                </div>
                                <div>
                                    <div className="text-xs text-gray-400">Share</div>
                                    <div className="text-xl font-bold">{compASIN.share}%</div>
                                </div>
                                <div>
                                    <div className="text-xs text-gray-400">Rank</div>
                                    <div className="text-xl font-bold">#{compASIN.rank}</div>
                                </div>
                                <div>
                                    <div className="text-xs text-gray-400">Badges</div>
                                    <div className="flex gap-1 mt-1">
                                        {compASIN.coupon_days > 0 && <span className="bg-green-100 text-green-600 px-2 py-1 text-xs rounded">Cpn</span>}
                                        {compASIN.ac_days > 0 && <span className="bg-gray-800 text-white px-2 py-1 text-xs rounded">AC</span>}
                                        {compASIN.deal_days === 0 && compASIN.coupon_days === 0 && <span className="text-xs text-gray-300">-</span>}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // --- MAIN APP ---
        const App = () => {
            const [tab, setTab] = React.useState('report');
            const lastWeek = getWeeks().pop();
            const lastWeekData = marketData.filter(d => d.week === lastWeek);
            
            // Calc Metrics
            const totalClicks = lastWeekData.filter(d => d.is_yaba).reduce((a,b) => a+b.clicks, 0);
            const totalShare = lastWeekData.filter(d => d.is_yaba).reduce((a,b) => a+b.share, 0);
            const avgRank = lastWeekData.filter(d => d.is_yaba).reduce((a,b) => a+b.rank, 0) / lastWeekData.filter(d => d.is_yaba).length;

            return (
                <div className="max-w-6xl mx-auto p-6">
                    
                    {/* HEADER */}
                    <div className="flex justify-between items-center mb-8">
                        <div>
                            <h1 className="text-3xl font-bold text-gray-900">Market Intelligence: {OUR_BRAND}</h1>
                            <p className="text-gray-500 mt-1">Reporting Week: {lastWeek}</p>
                        </div>
                        <div className="flex bg-gray-200 rounded-full p-1">
                            <button onClick={() => setTab('report')} className={`btn-tab ${tab === 'report' ? 'active' : 'inactive'}`}>Executive Report</button>
                            <button onClick={() => setTab('compare')} className={`btn-tab ${tab === 'compare' ? 'active' : 'inactive'}`}>Comparator</button>
                        </div>
                    </div>

                    {tab === 'report' ? (
                        <div className="animate-fade-in">
                            {/* 1. KPI ROW */}
                            <div className="flex gap-4 mb-8 overflow-x-auto">
                                <KpiCard title="Total Est. Clicks" value={formatNum(totalClicks)} sub="Last Week" trend="down" icon="mouse" />
                                <KpiCard title="Total Click Share" value={totalShare.toFixed(1) + "%"} sub="vs. Competitors" trend="up" icon="pie_chart" />
                                <KpiCard title="Avg Organic Rank" value={"#" + avgRank.toFixed(1)} sub="Weighted Avg" trend="down" icon="leaderboard" />
                            </div>

                            {/* 2. CHARTS ROW */}
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                <div className="card">
                                    <h3 className="text-lg font-bold mb-4">Trend: Volume vs Share</h3>
                                    <TrendChart />
                                </div>
                                <div className="card">
                                    <h3 className="text-lg font-bold mb-4">Competitiveness: Brand Share</h3>
                                    <ShareChart />
                                </div>
                            </div>

                            {/* 3. EFFICIENCY & PALANCAS */}
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                                <div className="card md:col-span-2">
                                    <h3 className="text-lg font-bold mb-4">Efficiency Map (Rank vs Share)</h3>
                                    <EfficiencyChart />
                                </div>
                                <div className="card bg-blue-50 border border-blue-100">
                                    <h3 className="text-lg font-bold mb-4 text-blue-800">Key Drivers (Palancas)</h3>
                                    <ul className="space-y-3 text-sm">
                                        <li className="flex items-center">
                                            <span className="material-icons text-green-600 mr-2">local_offer</span>
                                            <span><strong>Coupons:</strong> Used aggressively by Special Leaves & NORITUAL LAB.</span>
                                        </li>
                                        <li className="flex items-center">
                                            <span className="material-icons text-orange-600 mr-2">verified</span>
                                            <span><strong>Deals:</strong> VAHDAM gained share in prev weeks via Deals.</span>
                                        </li>
                                        <li className="flex items-center">
                                            <span className="material-icons text-purple-600 mr-2">trending_up</span>
                                            <span><strong>Rank:</strong> NaturaleBio maintains #1 Rank but share is saturated.</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            {/* 4. INSIGHTS SECTION */}
                            <div className="card border-l-4 border-green-500">
                                <h3 className="text-xl font-bold mb-4 flex items-center">
                                    <span className="material-icons mr-2">lightbulb</span>
                                    Strategic Insights & Recommendations
                                </h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                    <div>
                                        <h4 className="font-bold text-gray-700 mb-2 uppercase text-xs">Analysis</h4>
                                        <ul className="list-disc pl-5 space-y-2 text-gray-600">
                                            <li><strong>Global Trend:</strong> Market volume contracted in Jan (2026-01) vs Dec peak (Seasonality).</li>
                                            <li><strong>Competitor Alert:</strong> <span className="text-red-600 font-bold">NORITUAL LAB</span> is the primary threat, consistently holding ~20% combined share with coupons.</li>
                                            <li><strong>Emerging Threat:</strong> <strong>bioKontor</strong> saw the highest relative share gain (+3.08%) in the last week.</li>
                                            <li><strong>Inefficiency:</strong> VAHDAM lost significant share (-2.36%) despite past aggressive deal activity.</li>
                                            <li><strong>Our Position:</strong> NaturaleBio dominates rank #1 but price point (€14.61) is under pressure from premium competitors (NORITUAL @ €23+) proving inelasticity, but cheaper entrants are stealing volume.</li>
                                        </ul>
                                    </div>
                                    <div>
                                        <h4 className="font-bold text-gray-700 mb-2 uppercase text-xs">Action Plan</h4>
                                        <div className="space-y-3">
                                            <div className="bg-white p-3 rounded border border-gray-200 shadow-sm flex">
                                                <span className="material-icons text-blue-500 mr-3">price_check</span>
                                                <div>
                                                    <div className="font-bold text-sm">Defend High Ground</div>
                                                    <div className="text-xs text-gray-500">Maintain price premium. NORITUAL proves customers pay €24+ for "Ceremonial". Test a "Super Premium" variant.</div>
                                                </div>
                                            </div>
                                            <div className="bg-white p-3 rounded border border-gray-200 shadow-sm flex">
                                                <span className="material-icons text-green-500 mr-3">savings</span>
                                                <div>
                                                    <div className="font-bold text-sm">Counter-Coupon Strategy</div>
                                                    <div className="text-xs text-gray-500">Launch a defensive 5% coupon on the Hero ASIN to neutralize Special Leaves' visibility.</div>
                                                </div>
                                            </div>
                                            <div className="bg-white p-3 rounded border border-gray-200 shadow-sm flex">
                                                <span className="material-icons text-purple-500 mr-3">search</span>
                                                <div>
                                                    <div className="font-bold text-sm">Keyword Expansion</div>
                                                    <div className="text-xs text-gray-500">Rank #1 is secured for main term. Shift ad spend to 'Ceremonial' terms to attack NORITUAL directly.</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    ) : (
                        <div className="animate-fade-in">
                            <Comparator />
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>